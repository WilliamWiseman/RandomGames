<!DOCTYPE html>
<html>

<head>
  <title>Defeat the aliens!</title>
</head>

<body>
  <style>
    body {
      text-align: center;
      color: white;
      background-color: black
    }
    .tiles {
      height:30px;
      width:30px;
      background:black;
      border:1px solid white;
      font-size:25px;
    }
  </style>
  <br><br><br><br>
  <h1>You are humanity's last hope...</h1>
  <div id="gameArea"></div>
  <script>
    let grid = [];
    let playerSprite = "ðŸ›¦";
    function createWorld() {
      for (let z = 0; z < 20; z++) {
        let newYarr = [];
        let miniDiv = document.createElement('div');
        miniDiv.style = "display:inline-block";
        for (let i = 0; i < 15; i++) {
          let tile = document.createElement('div');
          tile.innerHTML = "&nbsp;"; //prestock tiles with a space because of default css rendering hijinx.  
          tile.classList = "tiles";
          this.newObj = {};
          this.newObj.tile = tile;
          newYarr.push(this.newObj);
          miniDiv.appendChild(tile);
        }
        grid.push(newYarr);
        document.getElementById('gameArea').appendChild(miniDiv);
      }
    }
    createWorld();
    function bullet(x){
      this.y = 12;
      this.x = x;
      this.go = setInterval(move, 200);
      function move(){
        grid[this.x][this.y].tile.innerText = "&nbsp;";
        this.y--;
        if(this.y !== -1){
        grid[this.x][this.y].tile.innerText = "|";
        }else{
        clearInterval(this.go);
        }
      }
    bullet.prototype.create = function(){
      grid[this.x][this.y].tile.innerHTML = "|";
    }
    }
    function spaceship() {
      this.pos = 10;
      spaceship.prototype.left = function () {
        grid[this.pos][13].tile.innerHTML = "&nbsp;"; 
        this.pos--;
        if(this.pos == -1){
        this.pos = 19;
        }
        grid[this.pos][13].tile.innerText = playerSprite; 
      }
      spaceship.prototype.right = function () {
        grid[this.pos][13].tile.innerHTML = "&nbsp;"; 
        this.pos++;
        if(this.pos == 20){
        this.pos = 0;
        }
        grid[this.pos][13].tile.innerText = playerSprite;  
      }
      spaceship.prototype.shoot = function () {
      let shot = new bullet(this.pos);
      shot.create();
      }
    }
    let PLAYER = new spaceship();
    document.addEventListener("keydown", function (event) {
      event.preventDefault();
      const key = event.key;
      switch (key) {
        case "ArrowLeft":
          PLAYER.left();
          break;
        case "ArrowRight":
          PLAYER.right();
          break;
        case "ArrowUp":
          PLAYER.shoot();
          break;
      }
    });
    grid[PLAYER.pos][13].tile.innerText = playerSprite;
  </script>
</body>

</html>